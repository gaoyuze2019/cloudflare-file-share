# ğŸš€ Cloudflare File Share

> **ä¸“ä¸º Markdown å›¾ç‰‡/æˆªå›¾æ‰˜ç®¡è€Œç”Ÿï¼Œ10GB å…è´¹ã€é•¿æœŸã€ç¨³å®šã€å¯æ§ï¼**

## ğŸ† é¡¹ç›®å®šä½

æœ¬é¡¹ç›®æ—¨åœ¨è§£å†³ï¼š**ä½ åœ¨å†™ Markdown æ–‡æ¡£æ—¶ï¼Œå›¾ç‰‡ï¼ˆå¦‚æˆªå›¾ã€æ’å›¾ï¼‰æ— æ³•åŒæ­¥ç»™ä»–äºº**çš„é—®é¢˜ã€‚

- ä½ å¯ä»¥å°†å›¾ç‰‡æ‰¹é‡ä¸Šä¼ åˆ°è‡ªå·±çš„ Cloudflare R2ï¼Œç”Ÿæˆ Markdown é“¾æ¥ï¼Œæ’å…¥æ–‡æ¡£ã€‚
- 10GB å…è´¹é¢åº¦ï¼Œå‡ ä¹æ°¸ä¹…ã€å…¨å…è´¹ã€æ— å¹¿å‘Šã€æ— ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚
- ä½ å¯ä»¥å°† Access Token åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜ï¼Œå¤§å®¶å…±ç”¨åŒä¸€å›¾åºŠã€‚
- **æ‰€æœ‰ä¸Šä¼ æ“ä½œéƒ½éœ€è¦ Access Tokenï¼Œé˜²æ­¢è¢«æ»¥ç”¨ã€‚**

> é€‚åˆï¼šæŠ€æœ¯æ–‡æ¡£ã€å›¢é˜Ÿåä½œã€çŸ¥è¯†åº“ã€åšå®¢ã€ä¸ªäººç¬”è®°ç­‰åœºæ™¯ã€‚

---

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ–¼ï¸ æ‹–æ‹½/æ‰¹é‡ä¸Šä¼ å›¾ç‰‡ã€æ–‡æ¡£
- ğŸ“‹ ä¸€é”®å¤åˆ¶ Markdown æ ¼å¼é“¾æ¥ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œç§»åŠ¨ç«¯å‹å¥½
- ğŸ›¡ï¸ Access Token è®¤è¯ï¼Œå®‰å…¨å¯æ§
- ğŸ—‘ï¸ æ–‡ä»¶ç®¡ç†ï¼ˆåˆ—è¡¨ã€åˆ é™¤ã€ç”¨é‡ç»Ÿè®¡ï¼‰
- âš¡ å…¨çƒ CDN åŠ é€Ÿï¼ŒR2 å­˜å‚¨
- ğŸ’¾ æ”¯æŒæœ€å¤§ 100MB å•æ–‡ä»¶

---

## âš ï¸ å®‰å…¨ä¸è®¿é—®è¯´æ˜

- **æ‰€æœ‰ä¸Šä¼ /åˆ é™¤æ“ä½œéƒ½éœ€è¦ Access Token**ï¼Œé»˜è®¤ç¦æ­¢å…¬å¼€ä¸Šä¼ ï¼Œé˜²æ­¢è¢«ä»–äººæ»¥ç”¨ã€‚
- ä½ å¯ä»¥å°† Token åˆ†äº«ç»™å¯ä¿¡ç”¨æˆ·ï¼Œå®ç°å›¢é˜Ÿå…±ç”¨ã€‚
- **åœ¨çº¿è®¿é—®åœ°å€**ï¼ˆå¦‚ https://g103200-file-share.pages.dev ï¼‰ä»…ç”¨äºæ–‡ä»¶è®¿é—®/é¢„è§ˆï¼Œ**ä¸å»ºè®®å…¬å¼€å®£ä¼ ä¸ºâ€œå…¬å…±å›¾åºŠâ€**ã€‚
- å¦‚éœ€å¼€æ”¾ä¸Šä¼ ï¼Œè¯·è‡ªè¡Œæ›´æ”¹ Token ç­–ç•¥å¹¶æ‰¿æ‹…é£é™©ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/gaoyuze2019/cloudflare-file-share.git
cd cloudflare-file-share
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. é…ç½® Cloudflare
- åˆ›å»º R2 å­˜å‚¨æ¡¶ï¼ˆå¦‚ my-image-bucketï¼‰
- åˆ›å»º Pages é¡¹ç›®ï¼Œè¿æ¥ GitHub
- å¤åˆ¶ `wrangler.toml.example` ä¸º `wrangler.local.toml`ï¼Œå¡«å†™ä½ çš„çœŸå®é…ç½®

### 4. è®¾ç½® Access Tokenï¼ˆå¼ºçƒˆå»ºè®®ï¼ï¼‰
- åœ¨ Cloudflare Pages é¡¹ç›®è®¾ç½® > Functions > ç¯å¢ƒå˜é‡ï¼Œæ·»åŠ ï¼š
  - `UPLOAD_TOKEN`ï¼šè‡ªå®šä¹‰å¼ºå¯†ç ï¼ˆå¦‚ `Gbenjamin3#,...`ï¼‰
- åœ¨æœ¬åœ° `wrangler.local.toml` ä¹Ÿè¦åŒæ­¥é…ç½®
- ä½ å¯ä»¥å°† Token åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜

### 5. ç»‘å®š R2 å­˜å‚¨æ¡¶
- å˜é‡åï¼š`MY_BUCKET`
- å­˜å‚¨æ¡¶åï¼šä½ çš„ R2 åç§°

### 6. å¯åŠ¨/éƒ¨ç½²
```bash
npm run dev   # æœ¬åœ°å¼€å‘
npm run deploy  # éƒ¨ç½²åˆ° Cloudflare Pages
```

---

## ğŸ“‹ API æ–‡æ¡£

### ä¸Šä¼ æ–‡ä»¶ï¼ˆéœ€ Tokenï¼‰
```bash
POST /upload
Headers:
  X-Auth-Token: <your-upload-token>
  Content-Type: file-mime-type
Body: file-binary-data
```

### è·å–æ–‡ä»¶åˆ—è¡¨
```bash
GET /list
```

### åˆ é™¤æ–‡ä»¶ï¼ˆéœ€ Tokenï¼‰
```bash
POST /delete
Headers:
  X-Auth-Token: <your-upload-token>
  Content-Type: application/json
Body: {"filename": "filename.ext"}
```

### è®¿é—®æ–‡ä»¶ï¼ˆå…¬å¼€ï¼‰
```bash
GET /public-images/filename.ext
```

---

## ğŸ¯ å…¸å‹ç”¨æ³•ï¼šMarkdown å›¾åºŠ

1. ä¸Šä¼ å›¾ç‰‡ï¼Œç‚¹å‡» **Copy MD**ï¼Œè‡ªåŠ¨å¤åˆ¶ Markdown æ ¼å¼ï¼š
   ```markdown
   ![xxx.png](https://g103200-file-share.pages.dev/public-images/xxx.png)
   ```
2. ç²˜è´´åˆ°ä½ çš„ Markdown æ–‡æ¡£ï¼Œå›¢é˜Ÿæˆå‘˜/ä»–äººåªéœ€åŒæ­¥æ–‡æ¡£å³å¯çœ‹åˆ°å›¾ç‰‡ã€‚
3. 10GB å…è´¹é¢åº¦ï¼Œé€‚åˆé•¿æœŸå­˜å‚¨æ–‡æ¡£å›¾ç‰‡ã€‚

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

- **åŠ¡å¿…è®¾ç½®å¼º Tokenï¼Œåˆ‡å‹¿å…¬å¼€ Token**
- ä¸å»ºè®®å°†ä¸Šä¼ å…¥å£å…¬å¼€å®£ä¼ ä¸ºâ€œå…¬å…±å›¾åºŠâ€
- å¯é€šè¿‡ Cloudflare Access å¢åŠ é¢å¤–è®¿é—®æ§åˆ¶
- å®šæœŸæ¸…ç†ä¸éœ€è¦çš„æ–‡ä»¶ï¼ŒèŠ‚çœç©ºé—´

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼

é¡¹ç›®ä¸»é¡µï¼š[https://github.com/gaoyuze2019/cloudflare-file-share](https://github.com/gaoyuze2019/cloudflare-file-share)
